<!doctype html><html lang=en><head><meta charset=utf-8><title>multicluster | Linkerd</title>
<link rel="shortcut icon" href=/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Manages the multicluster setup for Linkerd.
This command provides subcommands to manage the multicluster support
functionality of Linkerd. You can use it to install the service mirror
components on a cluster, manage credentials and link clusters together.








  
    Examples
    # Install multicluster addons.
linkerd --context=cluster-a multicluster install | kubectl --context=cluster-a apply -f -

# Extract mirroring cluster credentials from cluster A and install them on cluster B
linkerd --context=cluster-a multicluster link --cluster-name=target | kubectl apply --context=cluster-b -f -
  







  
  
    Flags
    
      
        
          
            Flag
          
          
            Usage
          
        
      
      
        
          
            
              --api-addr
              
            
            
              Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing)
            
          
        
          
            
              --as
              
            
            
              Username to impersonate for Kubernetes operations
            
          
        
          
            
              --as-group
              
            
            
              Group to impersonate for Kubernetes operations
            
          
        
          
            
              --context
              
            
            
              Name of the kubeconfig context to use
            
          
        
          
            
              --kubeconfig
              
            
            
              Path to the kubeconfig file to use for CLI requests
            
          
        
          
            
              --linkerd-namespace
              
                
                -L
              
            
            
              Namespace in which Linkerd is installed
            
          
        
          
            
              --verbose
              
            
            
              Turn on debug logging
            
          
        
      
    
  




  Subcommands
  
    
  

  



  allow
  
    
  

  






  Outputs credential resources that allow service-mirror controllers to connect to this cluster"><meta property="og:url" content="https://travisbeckham.github.io/2.16/reference/cli/multicluster/"><meta property="og:site_name" content="Linkerd"><meta property="og:title" content="multicluster"><meta property="og:description" content="Manages the multicluster setup for Linkerd.
This command provides subcommands to manage the multicluster support functionality of Linkerd. You can use it to install the service mirror components on a cluster, manage credentials and link clusters together.
Examples # Install multicluster addons. linkerd --context=cluster-a multicluster install | kubectl --context=cluster-a apply -f - # Extract mirroring cluster credentials from cluster A and install them on cluster B linkerd --context=cluster-a multicluster link --cluster-name=target | kubectl apply --context=cluster-b -f - Flags Flag Usage --api-addr Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing) --as Username to impersonate for Kubernetes operations --as-group Group to impersonate for Kubernetes operations --context Name of the kubeconfig context to use --kubeconfig Path to the kubeconfig file to use for CLI requests --linkerd-namespace -L Namespace in which Linkerd is installed --verbose Turn on debug logging Subcommands allow Outputs credential resources that allow service-mirror controllers to connect to this cluster"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="2.16"><meta property="og:image" content="https://travisbeckham.github.io/logos/linkerd.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://travisbeckham.github.io/logos/linkerd.png"><meta name=twitter:title content="multicluster"><meta name=twitter:description content="Manages the multicluster setup for Linkerd.
This command provides subcommands to manage the multicluster support functionality of Linkerd. You can use it to install the service mirror components on a cluster, manage credentials and link clusters together.
Examples # Install multicluster addons. linkerd --context=cluster-a multicluster install | kubectl --context=cluster-a apply -f - # Extract mirroring cluster credentials from cluster A and install them on cluster B linkerd --context=cluster-a multicluster link --cluster-name=target | kubectl apply --context=cluster-b -f - Flags Flag Usage --api-addr Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing) --as Username to impersonate for Kubernetes operations --as-group Group to impersonate for Kubernetes operations --context Name of the kubeconfig context to use --kubeconfig Path to the kubeconfig file to use for CLI requests --linkerd-namespace -L Namespace in which Linkerd is installed --verbose Turn on debug logging Subcommands allow Outputs credential resources that allow service-mirror controllers to connect to this cluster"><meta name=twitter:site content="@Linkerd"><link rel=canonical href=https://travisbeckham.github.io/2.16/reference/cli/multicluster/><link rel=stylesheet href=/css/main.css><script src=/js/main.js></script><script async defer src=https://buttons.github.io/buttons.js></script></head><body><header class=main-header><div class=main-header__container><div class=main-header__logo><a href=/><img src=/logos/linkerd.png alt=Linkerd></a></div><input class=main-header__toggle-checkbox type=checkbox id=main-header-toggle>
<label class=main-header__toggle for=main-header-toggle><span class=main-header__toggle-icon><span class=main-header__toggle-icon--open><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3 6H21V8H3V6m0 5H21v2H3V11m0 5H21v2H3V16z"/></svg>
</span><span class=main-header__toggle-icon--close><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg></span></span></label><div class=main-header__nav><nav class=main-nav><ul class=main-nav__menu><li class=main-nav__menu--selected><a href=/docs>Docs</a></li><li><a href>Community<svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6L7.41 8.58z"/></svg></a><ul><li><a href=/community/get-involved/>Get Involved</a></li><li><a href=/community/adopters/>Adopters</a></li><li><a href=/community/ambassadors/>Linkerd Ambassadors</a></li><li><a href=/community/heroes/>Linkerd Heroes</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Buoyant's Linkerd Forum</a></li></ul></li><li><a href=/blog/>Blog</a></li><li><a href=/faq/>FAQ</a></li><li><a href=/enterprise/>Enterprise</a></li></ul><div class=main-nav__search><form action=/search method=get><div class="search-input search-input--sm"><svg class="icon" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5.0 0116 9.5c0 1.61-.59 3.09-1.56 4.23L14.71 14H15.5l5 5L19 20.5l-5-5V14.71L13.73 14.44C12.59 15.41 11.11 16 9.5 16A6.5 6.5.0 013 9.5 6.5 6.5.0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
<input type=text name=q placeholder=Search></div></form></div><div class=main-nav__github><a class=github-button href=https://github.com/linkerd/linkerd2 data-icon=octicon-star data-size=large data-show-count=true aria-label="Star linkerd/linkerd2 on GitHub">Star</a></div><div class=main-nav__forum><a href=https://linkerd.buoyant.io class="button button--primary button--sm" target=_blank rel=noopener>Join Forum</a></div></nav></div></div></header><div class=main-announcement>Service Mesh 101: Get Service Mesh-Certified
<span class=main-announcement__link><a href=https://buoyant.io/courses/service-mesh-101 target=_blank rel=noopener>Enroll now</a></span></div><main class=main-content><div class=docs><div class=docs__container><div class=docs__sidebar><div class=docs__nav><div class=docs__versions><select onchange="window.location.href=this.value"><option value=/2-edge/>Linkerd edge</option><option value=/2.16/ selected>Linkerd 2.16</option><option value=/2.15/>Linkerd 2.15</option><option value=/2.14/>Linkerd 2.14</option><option value=/2.13/>Linkerd 2.13</option><option value=/2.12/>Linkerd 2.12</option><option value=/2.11/>Linkerd 2.11</option><option value=/2.10/>Linkerd 2.10</option><option value=/2.9/>Linkerd 2.9</option></select></div><nav><ul><li><a href=/2.16/overview/>Overview</a></li><li><a href=/2.16/getting-started/>Getting Started</a></li><li><a href=/2.16/features/>Features
</a><input class=toggle__input type=checkbox id=toggle-8f2b3864989abf5fcedb56a3ffaa68dd>
<label class=toggle__label for=toggle-8f2b3864989abf5fcedb56a3ffaa68dd><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.16/features/http-grpc/>HTTP, HTTP/2, and gRPC Proxying</a></li><li><a href=/2.16/features/protocol-detection/>TCP Proxying and Protocol Detection</a></li><li><a href=/2.16/features/retries-and-timeouts/>Retries and Timeouts</a></li><li><a href=/2.16/features/automatic-mtls/>Automatic mTLS</a></li><li><a href=/2.16/features/ingress/>Ingress</a></li><li><a href=/2.16/features/telemetry/>Telemetry and Monitoring</a></li><li><a href=/2.16/features/load-balancing/>Load Balancing</a></li><li><a href=/2.16/features/server-policy/>Authorization Policy</a></li><li><a href=/2.16/features/proxy-injection/>Automatic Proxy Injection</a></li><li><a href=/2.16/features/cni/>CNI Plugin</a></li><li><a href=/2.16/features/dashboard/>Dashboard and on-cluster metrics stack</a></li><li><a href=/2.16/features/distributed-tracing/>Distributed Tracing</a></li><li><a href=/2.16/features/request-routing/>Dynamic Request Routing</a></li><li><a href=/2.16/features/fault-injection/>Fault Injection</a></li><li><a href=/2.16/features/ha/>High Availability</a></li><li><a href=/2.16/features/access-logging/>HTTP Access Logging</a></li><li><a href=/2.16/features/httproute/>HTTPRoutes</a></li><li><a href=/2.16/features/nft/>Iptables-nft Support</a></li><li><a href=/2.16/features/ipv6/>IPv6 Support</a></li><li><a href=/2.16/features/multicluster/>Multi-cluster communication</a></li><li><a href=/2.16/features/non-kubernetes-workloads/>Non-Kubernetes workloads (mesh expansion)</a></li><li><a href=/2.16/features/service-profiles/>Service Profiles</a></li><li><a href=/2.16/features/traffic-split/>Traffic Split (canaries, blue/green deploys)</a></li></ul></li><li><a href=/2.16/tasks/>Tasks
</a><input class=toggle__input type=checkbox id=toggle-6dd1ab63beb6e01f692b7628aa14c0a7>
<label class=toggle__label for=toggle-6dd1ab63beb6e01f692b7628aa14c0a7><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.16/tasks/adding-non-kubernetes-workloads/>Adding non-Kubernetes workloads to your mesh</a></li><li><a href=/2.16/tasks/adding-your-service/>Adding your services to Linkerd</a></li><li><a href=/2.16/tasks/automatic-failover/>Automatic Multicluster Failover</a></li><li><a href=/2.16/tasks/automatically-rotating-control-plane-tls-credentials/>Automatically Rotating Control Plane TLS Credentials</a></li><li><a href=/2.16/tasks/automatically-rotating-webhook-tls-credentials/>Automatically Rotating Webhook TLS Credentials</a></li><li><a href=/2.16/tasks/external-prometheus/>Bringing your own Prometheus</a></li><li><a href=/2.16/tasks/circuit-breakers/>Circuit Breakers</a></li><li><a href=/2.16/tasks/configuring-dynamic-request-routing/>Configuring Dynamic Request Routing</a></li><li><a href=/2.16/tasks/configuring-per-route-policy/>Configuring Per-Route Authorization Policy</a></li><li><a href=/2.16/tasks/configuring-proxy-concurrency/>Configuring Proxy Concurrency</a></li><li><a href=/2.16/tasks/configuring-proxy-discovery-cache/>Configuring Proxy Discovery Cache</a></li><li><a href=/2.16/tasks/configuring-retries/>Configuring Retries</a></li><li><a href=/2.16/tasks/configuring-timeouts/>Configuring Timeouts</a></li><li><a href=/2.16/tasks/using-debug-endpoints/>Control Plane Debug Endpoints</a></li><li><a href=/2.16/tasks/customize-install/>Customizing Linkerd's Configuration with Kustomize</a></li><li><a href=/2.16/tasks/debugging-502s/>Debugging 502s</a></li><li><a href=/2.16/tasks/debugging-your-service/>Debugging gRPC applications with request tracing</a></li><li><a href=/2.16/tasks/books/>Debugging HTTP applications with per-route metrics</a></li><li><a href=/2.16/tasks/distributed-tracing/>Distributed tracing with Linkerd</a></li><li><a href=/2.16/tasks/exporting-metrics/>Exporting Metrics</a></li><li><a href=/2.16/tasks/exposing-dashboard/>Exposing the Dashboard</a></li><li><a href=/2.16/tasks/generate-certificates/>Generating your own mTLS root certificates</a></li><li><a href=/2.16/tasks/getting-per-route-metrics/>Getting Per-Route Metrics</a></li><li><a href=/2.16/tasks/linkerd-smi/>Getting started with Linkerd SMI extension</a></li><li><a href=/2.16/tasks/graceful-shutdown/>Graceful Pod Shutdown</a></li><li><a href=/2.16/tasks/grafana/>Grafana</a></li><li><a href=/2.16/tasks/using-ingress/>Handling ingress traffic</a></li><li><a href=/2.16/tasks/fault-injection/>Injecting Faults</a></li><li><a href=/2.16/tasks/install/>Installing Linkerd</a></li><li><a href=/2.16/tasks/install-helm/>Installing Linkerd with Helm</a></li><li><a href=/2.16/tasks/installing-multicluster/>Installing Multi-cluster Components</a></li><li><a href=/2.16/tasks/using-psp/>Linkerd and Pod Security Policies (PSP)</a></li><li><a href=/2.16/tasks/manually-rotating-control-plane-tls-credentials/>Manually Rotating Control Plane TLS Credentials</a></li><li><a href=/2.16/tasks/modifying-proxy-log-level/>Modifying the Proxy Log Level</a></li><li><a href=/2.16/tasks/multicluster/>Multi-cluster communication</a></li><li><a href=/2.16/tasks/multicluster-using-statefulsets/>Multi-cluster communication with StatefulSets</a></li><li><a href=/2.16/tasks/per-request-policy/>Per-Request Policy</a></li><li><a href=/2.16/tasks/pod-to-pod-multicluster/>Pod-to-Pod Multi-cluster communication</a></li><li><a href=/2.16/tasks/flagger/>Progressive Delivery</a></li><li><a href=/2.16/tasks/replacing_expired_certificates/>Replacing expired certificates</a></li><li><a href=/2.16/tasks/restricting-access/>Restricting Access To Services</a></li><li><a href=/2.16/tasks/rotating_webhooks_certificates/>Rotating webhooks certificates</a></li><li><a href=/2.16/tasks/securing-linkerd-tap/>Securing Linkerd Tap</a></li><li><a href=/2.16/tasks/setting-up-service-profiles/>Setting Up Service Profiles</a></li><li><a href=/2.16/tasks/traffic-shifting/>Traffic Shifting</a></li><li><a href=/2.16/tasks/troubleshooting/>Troubleshooting</a></li><li><a href=/2.16/tasks/uninstall/>Uninstalling Linkerd</a></li><li><a href=/2.16/tasks/uninstall-multicluster/>Uninstalling Multicluster</a></li><li><a href=/2.16/tasks/upgrade/>Upgrading Linkerd</a></li><li><a href=/2.16/tasks/using-custom-domain/>Using a Custom Cluster Domain</a></li><li><a href=/2.16/tasks/extensions/>Using extensions</a></li><li><a href=/2.16/tasks/gitops/>Using GitOps with Linkerd with Argo CD</a></li><li><a href=/2.16/tasks/using-the-debug-container/>Using the Debug Sidecar</a></li><li><a href=/2.16/tasks/validating-your-traffic/>Validating your mTLS traffic</a></li></ul></li><li class=docs__nav--selected><a href=/2.16/reference/>Reference
</a><input class=toggle__input type=checkbox id=toggle-f7bbb952d9a479cfe82f5debb0fbc89c checked>
<label class=toggle__label for=toggle-f7bbb952d9a479cfe82f5debb0fbc89c><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.16/reference/architecture/>Architecture</a></li><li><a href=/2.16/reference/authorization-policy/>Authorization Policy</a></li><li><a href=/2.16/reference/circuit-breaking/>Circuit Breaking</a></li><li class=docs__nav--selected><a href=/2.16/reference/cli/>CLI
</a><input class=toggle__input type=checkbox id=toggle-16e73a448bb99ac0d4654e9aeb3859cd checked>
<label class=toggle__label for=toggle-16e73a448bb99ac0d4654e9aeb3859cd><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.16/reference/cli/authz/>authz</a></li><li><a href=/2.16/reference/cli/check/>check</a></li><li><a href=/2.16/reference/cli/completion/>completion</a></li><li><a href=/2.16/reference/cli/diagnostics/>diagnostics</a></li><li><a href=/2.16/reference/cli/identity/>identity</a></li><li><a href=/2.16/reference/cli/inject/>inject</a></li><li><a href=/2.16/reference/cli/install/>install</a></li><li><a href=/2.16/reference/cli/install-cni/>install-cni</a></li><li><a href=/2.16/reference/cli/jaeger/>jaeger</a></li><li class=docs__nav--selected><a href=/2.16/reference/cli/multicluster/>multicluster</a></li><li><a href=/2.16/reference/cli/profile/>profile</a></li><li><a href=/2.16/reference/cli/prune/>prune</a></li><li><a href=/2.16/reference/cli/uninject/>uninject</a></li><li><a href=/2.16/reference/cli/uninstall/>uninstall</a></li><li><a href=/2.16/reference/cli/upgrade/>upgrade</a></li><li><a href=/2.16/reference/cli/version/>version</a></li><li><a href=/2.16/reference/cli/viz/>viz</a></li></ul></li><li><a href=/2.16/reference/cluster-configuration/>Cluster Configuration</a></li><li><a href=/2.16/reference/extension-list/>Extensions List</a></li><li><a href=/2.16/reference/external-workload/>ExternalWorkload</a></li><li><a href=/2.16/reference/httproute/>HTTPRoute</a></li><li><a href=/2.16/reference/iptables/>IPTables Reference</a></li><li><a href=/2.16/reference/multicluster/>Multi-cluster communication</a></li><li><a href=/2.16/reference/proxy-configuration/>Proxy Configuration</a></li><li><a href=/2.16/reference/proxy-log-level/>Proxy Log Level</a></li><li><a href=/2.16/reference/proxy-metrics/>Proxy Metrics</a></li><li><a href=/2.16/reference/retries/>Retries</a></li><li><a href=/2.16/reference/service-profiles/>Service Profiles</a></li><li><a href=/2.16/reference/k8s-versions/>Supported Kubernetes Versions</a></li><li><a href=/2.16/reference/timeouts/>Timeouts</a></li></ul></li><li><a href=/2.16/common-errors/>Common Errors
</a><input class=toggle__input type=checkbox id=toggle-1dfe2f36d6b5e88e61f40a60319ec82c>
<label class=toggle__label for=toggle-1dfe2f36d6b5e88e61f40a60319ec82c><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.16/common-errors/failfast/>Failfast</a></li><li><a href=/2.16/common-errors/http-502/>HTTP 502 Errors</a></li><li><a href=/2.16/common-errors/http-503-504/>HTTP 503 and 504 Errors</a></li><li><a href=/2.16/common-errors/protocol-detection/>Protocol Detection Errors</a></li></ul></li></ul><ul><li><a href=/what-is-a-service-mesh/>What is a service mesh?</a></li><li><a href=/faq/>Frequently Asked Questions</a></li><li><a href=/releases/>Releases and Versions</a></li><li><a href=/design-principles/>Design Principles</a></li><li><a href=/going-to-production/>Going to Production</a></li><li><a href=/service-mesh-glossary/>Service Mesh Glossary</a></li></ul></nav><div class=docs__community><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener><img src=/logos/github.svg alt=GitHub class=img></a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener><img src=/logos/slack.svg alt=Slack class=img></a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener><img src=/logos/forum.png alt="Linkerd Forum" class=img></a></li></ul></div></div></div><div class=docs__main><div class=docs__body><div class=docs__header><h1>multicluster</h1></div><div class="docs__content prose"><p>Manages the multicluster setup for Linkerd.</p><p>This command provides subcommands to manage the multicluster support
functionality of Linkerd. You can use it to install the service mirror
components on a cluster, manage credentials and link clusters together.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Install multicluster addons.</span>
</span></span><span style=display:flex><span>linkerd --context<span style=color:#ff7b72;font-weight:700>=</span>cluster-a multicluster install | kubectl --context<span style=color:#ff7b72;font-weight:700>=</span>cluster-a apply -f -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Extract mirroring cluster credentials from cluster A and install them on cluster B</span>
</span></span><span style=display:flex><span>linkerd --context<span style=color:#ff7b72;font-weight:700>=</span>cluster-a multicluster link --cluster-name<span style=color:#ff7b72;font-weight:700>=</span>target | kubectl apply --context<span style=color:#ff7b72;font-weight:700>=</span>cluster-b -f -</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--api-addr</code></td><td>Override kubeconfig and communicate directly with the control plane at host:port (mostly for testing)</td></tr><tr><td><code>--as</code></td><td>Username to impersonate for Kubernetes operations</td></tr><tr><td><code>--as-group</code></td><td>Group to impersonate for Kubernetes operations</td></tr><tr><td><code>--context</code></td><td>Name of the kubeconfig context to use</td></tr><tr><td><code>--kubeconfig</code></td><td>Path to the kubeconfig file to use for CLI requests</td></tr><tr><td><code>--linkerd-namespace</code><br><code>-L</code></td><td>Namespace in which Linkerd is installed</td></tr><tr><td><code>--verbose</code></td><td>Turn on debug logging</td></tr></tbody></table><h2 id=subcommands class=anchor>Subcommands
<a href=#subcommands class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><h3 id=allow class=anchor>allow
<a href=#allow class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Outputs credential resources that allow service-mirror controllers to connect to this cluster</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--ignore-cluster</code></td><td>Ignore cluster configuration</td></tr><tr><td><code>--namespace</code></td><td>The destination namespace for the service account.</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: json|yaml</td></tr><tr><td><code>--service-account-name</code></td><td>The name of the multicluster access service account</td></tr></tbody></table><h3 id=check class=anchor>check
<a href=#check class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Check the multicluster extension for potential problems.</p><p>The check command will perform a series of checks to validate that the
multicluster extension is configured correctly. If the command encounters a
failure it will print additional information about the failure and exit with a
non-zero exit code.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Check that the multicluster extension is configured correctly</span>
</span></span><span style=display:flex><span>linkerd multicluster check</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td></td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: table, json, short</td></tr><tr><td><code>--proxy</code></td><td></td></tr><tr><td><code>--timeout</code></td><td>Timeout for calls to the Kubernetes API</td></tr><tr><td><code>--wait</code></td><td>Maximum allowed time for all tests to pass</td></tr></tbody></table><h3 id=gateways class=anchor>gateways
<a href=#gateways class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Display stats information about the gateways in target clusters</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--cluster-name</code></td><td>the name of the target cluster</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>used to print output in different format</td></tr><tr><td><code>--wait</code><br><code>-w</code></td><td>time allowed to fetch diagnostics</td></tr></tbody></table><h3 id=install class=anchor>install
<a href=#install class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Output Kubernetes configs to install the Linkerd multicluster add-on</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Default install.</span>
</span></span><span style=display:flex><span>linkerd multicluster install | kubectl apply -f -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The installation can be configured by using the --set, --values, --set-string and --set-file flags.
</span></span><span style=display:flex><span>A full list of configurable values can be found at https://github.com/linkerd/linkerd2/blob/main/multicluster/charts/linkerd-multicluster/README.md
</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--gateway</code></td><td>If the gateway component should be installed</td></tr><tr><td><code>--gateway-port</code></td><td>The port on the gateway used for all incoming traffic</td></tr><tr><td><code>--gateway-probe-port</code></td><td>The liveness check port of the gateway</td></tr><tr><td><code>--gateway-probe-seconds</code></td><td>The interval at which the gateway will be checked for being alive in seconds</td></tr><tr><td><code>--gateway-service-type</code></td><td>Overwrite Service type for gateway service</td></tr><tr><td><code>--ha</code></td><td>Install multicluster extension in High Availability mode.</td></tr><tr><td><code>--ignore-cluster</code></td><td>Ignore the current Kubernetes cluster when checking for existing cluster configuration (default false)</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: json|yaml</td></tr><tr><td><code>--service-mirror-credentials</code></td><td>Whether to install the service account which can be used by service mirror components in source clusters to discover exported services</td></tr><tr><td><code>--set</code></td><td>set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--set-file</code></td><td>set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)</td></tr><tr><td><code>--set-string</code></td><td>set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--values</code><br><code>-f</code></td><td>specify values in a YAML file or a URL (can specify multiple)</td></tr><tr><td><code>--wait</code></td><td>Wait for core control-plane components to be available</td></tr></tbody></table><h3 id=link class=anchor>link
<a href=#link class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Outputs resources that allow another cluster to mirror services from this one.</p><p>Note that the Link resource applies only in one direction. In order for two
clusters to mirror each other, a Link resource will have to be generated for
each cluster and applied to the other.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># To link the west cluster to east</span>
</span></span><span style=display:flex><span>linkerd --context<span style=color:#ff7b72;font-weight:700>=</span>east multicluster link --cluster-name east | kubectl --context<span style=color:#ff7b72;font-weight:700>=</span>west apply -f -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The command can be configured by using the --set, --values, --set-string and --set-file flags.
</span></span><span style=display:flex><span>A full list of configurable values can be found at https://github.com/linkerd/linkerd2/blob/main/multicluster/charts/linkerd-multicluster-link/README.md
</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--api-server-address</code></td><td>The api server address of the target cluster</td></tr><tr><td><code>--cluster-name</code></td><td>Cluster name</td></tr><tr><td><code>--control-plane-version</code></td><td>(Development) Tag to be used for the service mirror controller image</td></tr><tr><td><code>--gateway</code></td><td>If false, allows a link to be created against a cluster that does not have a gateway service</td></tr><tr><td><code>--gateway-addresses</code></td><td>If specified, overwrites gateway addresses when gateway service is not type LoadBalancer (comma separated list)</td></tr><tr><td><code>--gateway-name</code></td><td>The name of the gateway service</td></tr><tr><td><code>--gateway-namespace</code></td><td>The namespace of the gateway service</td></tr><tr><td><code>--gateway-port</code></td><td>If specified, overwrites gateway port when gateway service is not type LoadBalancer</td></tr><tr><td><code>--ha</code></td><td>Enable HA configuration for the service-mirror deployment (default false)</td></tr><tr><td><code>--log-format</code></td><td>Log format for the Multicluster components</td></tr><tr><td><code>--log-level</code></td><td>Log level for the Multicluster components</td></tr><tr><td><code>--namespace</code></td><td>The namespace for the service account</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: json|yaml</td></tr><tr><td><code>--registry</code></td><td>Docker registry to pull service mirror controller image from ($LINKERD_DOCKER_REGISTRY)</td></tr><tr><td><code>--remote-discovery-selector</code></td><td>Selector (label query) to filter which services in the target cluster to mirror in remote discovery mode</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter which services in the target cluster to mirror</td></tr><tr><td><code>--service-account-name</code></td><td>The name of the service account associated with the credentials</td></tr><tr><td><code>--service-mirror-retry-limit</code></td><td>The number of times a failed update from the target cluster is allowed to be retried</td></tr><tr><td><code>--set</code></td><td>set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--set-file</code></td><td>set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)</td></tr><tr><td><code>--set-string</code></td><td>set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--values</code><br><code>-f</code></td><td>specify values in a YAML file or a URL (can specify multiple)</td></tr></tbody></table><h3 id=uninstall class=anchor>uninstall
<a href=#uninstall class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Output Kubernetes configs to uninstall the Linkerd multicluster add-on</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: json|yaml</td></tr></tbody></table><h3 id=unlink class=anchor>unlink
<a href=#unlink class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Outputs link resources for deletion</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--cluster-name</code></td><td>Cluster name</td></tr><tr><td><code>--namespace</code></td><td>The namespace for the service account</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: json|yaml</td></tr></tbody></table></div></div></div></div></div></main><footer class=main-footer><div class=main-footer__top><div class="main-footer__container container"><div class=main-footer__info><p><img src=/logos/linkerd.png alt=Linkerd></p><p>Linkerd was originally created by <a href=https://buoyant.io/ target=_blank rel=noopener>Buoyant</a></p><p>View <a href=https://github.com/linkerd/linkerd/wiki/Linkerd-code-of-conduct target=_blank rel=noopener>Code of Conduct</a></p></div><div class=main-footer__links><div class=main-footer__community><h4>Community</h4><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener>GitHub</a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener>Slack</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Linkerd Forum</a></li></ul></div><div class=main-footer__follow><h4>Follow</h4><ul><li><a href=https://www.linkedin.com/company/linkerd/ target=_blank rel=noopener>Linkedin</a></li><li><a href=https://www.youtube.com/buoyantio target=_blank rel=noopener>YouTube</a></li><li><a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a></li></ul></div></div></div></div><div class=main-footer__bottom><div class="main-footer__container container"><p><a href=https://github.com/linkerd/website/tree/main/linkerd.io/content target=_blank rel=noopener>Edit This Site</a></p><p>Copyright © 2024 Linkerd Authors. All rights reserved.</p></div></div></footer></body></html>