<!doctype html><html lang=en><head><meta charset=utf-8><title>viz | Linkerd</title>
<link rel="shortcut icon" href=/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="viz manages the linkerd-viz extension of Linkerd service mesh.





  




  
  




  Subcommands
  
    
  

  



  allow-scrapes
  
    
  

  



  Output Kubernetes resources to authorize Prometheus scrapes in a namespace or cluster with config.linkerd.io/default-inbound-policy: deny."><meta property="og:url" content="https://travisbeckham.github.io/2.12/reference/cli/viz/"><meta property="og:site_name" content="Linkerd"><meta property="og:title" content="viz"><meta property="og:description" content="viz manages the linkerd-viz extension of Linkerd service mesh.
Subcommands allow-scrapes Output Kubernetes resources to authorize Prometheus scrapes in a namespace or cluster with config.linkerd.io/default-inbound-policy: deny."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="2.12"><meta property="og:image" content="https://travisbeckham.github.io/logos/linkerd.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://travisbeckham.github.io/logos/linkerd.png"><meta name=twitter:title content="viz"><meta name=twitter:description content="viz manages the linkerd-viz extension of Linkerd service mesh.
Subcommands allow-scrapes Output Kubernetes resources to authorize Prometheus scrapes in a namespace or cluster with config.linkerd.io/default-inbound-policy: deny."><meta name=twitter:site content="@Linkerd"><link rel=canonical href=https://travisbeckham.github.io/2.12/reference/cli/viz/><link rel=stylesheet href=/css/main.css><script src=/js/main.js></script><script async defer src=https://buttons.github.io/buttons.js></script></head><body><header class=main-header><div class=main-header__container><div class=main-header__logo><a href=/><img src=/logos/linkerd.png alt=Linkerd></a></div><input class=main-header__toggle-checkbox type=checkbox id=main-header-toggle>
<label class=main-header__toggle for=main-header-toggle><span class=main-header__toggle-icon><span class=main-header__toggle-icon--open><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3 6H21V8H3V6m0 5H21v2H3V11m0 5H21v2H3V16z"/></svg>
</span><span class=main-header__toggle-icon--close><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg></span></span></label><div class=main-header__nav><nav class=main-nav><ul class=main-nav__menu><li class=main-nav__menu--selected><a href=/docs>Docs</a></li><li><a href=#>Community<svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6L7.41 8.58z"/></svg></a><ul><li><a href=/community/get-involved/>Get Involved</a></li><li><a href=/community/adopters/>Adopters</a></li><li><a href=/community/ambassadors/>Linkerd Ambassadors</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Buoyant's Linkerd Forum</a></li></ul></li><li><a href=/blog/>Blog</a></li><li><a href=/faq/>FAQ</a></li><li><a href=/enterprise/>Enterprise</a></li></ul><div class=main-nav__search><form action=/search method=get><div class="search-input search-input--sm"><svg class="icon" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5.0 0116 9.5c0 1.61-.59 3.09-1.56 4.23L14.71 14H15.5l5 5L19 20.5l-5-5V14.71L13.73 14.44C12.59 15.41 11.11 16 9.5 16A6.5 6.5.0 013 9.5 6.5 6.5.0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
<input type=text name=q placeholder=Search></div></form></div><div class=main-nav__github><a class=github-button href=https://github.com/linkerd/linkerd2 data-icon=octicon-star data-size=large data-show-count=true aria-label="Star linkerd/linkerd2 on GitHub">Star</a></div><div class=main-nav__forum><a href=https://linkerd.buoyant.io class="button button--primary button--sm" target=_blank rel=noopener>Join Forum</a></div></nav></div></div></header><div class=main-announcement><strong>Oct 23, 2024</strong> New blog post: Towards a Sustainable Service Mesh.
<a href=/2024/10/23/making-linkerd-sustainable/ class=main-announcement__link>Read the post</a></div><main class=main-content><div class="alert alert--warning alert--condensed alert--center docs__deprecated-alert"><div class=alert__content>You are viewing docs for an older version of Linkerd.
<a href=/2.16/>View the latest docs</a>.</div></div><div class=docs><div class=docs__container><div class=docs__sidebar><div class=docs__nav><div class=docs__versions><select onchange="window.location.href=this.value"><option value=/2-edge/>Linkerd edge</option><option value=/2.16/>Linkerd 2.16</option><option value=/2.15/>Linkerd 2.15</option><option value=/2.14/>Linkerd 2.14</option><option value=/2.13/>Linkerd 2.13</option><option value=/2.12/ selected>Linkerd 2.12</option><option value=/2.11/>Linkerd 2.11</option><option value=/2.10/>Linkerd 2.10</option></select></div><nav><ul><li><a href=/2.12/overview/>Overview</a></li><li><a href=/2.12/getting-started/>Getting Started</a></li><li><a href=/2.12/features/>Features
</a><input class=toggle__input type=checkbox id=toggle-451debf55674ca42b496c251f32b1e24>
<label class=toggle__label for=toggle-451debf55674ca42b496c251f32b1e24><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.12/features/http-grpc/>HTTP, HTTP/2, and gRPC Proxying</a></li><li><a href=/2.12/features/protocol-detection/>TCP Proxying and Protocol Detection</a></li><li><a href=/2.12/features/retries-and-timeouts/>Retries and Timeouts</a></li><li><a href=/2.12/features/automatic-mtls/>Automatic mTLS</a></li><li><a href=/2.12/features/ingress/>Ingress</a></li><li><a href=/2.12/features/telemetry/>Telemetry and Monitoring</a></li><li><a href=/2.12/features/load-balancing/>Load Balancing</a></li><li><a href=/2.12/features/server-policy/>Authorization Policy</a></li><li><a href=/2.12/features/proxy-injection/>Automatic Proxy Injection</a></li><li><a href=/2.12/features/cni/>CNI Plugin</a></li><li><a href=/2.12/features/dashboard/>Dashboard and on-cluster metrics stack</a></li><li><a href=/2.12/features/distributed-tracing/>Distributed Tracing</a></li><li><a href=/2.12/features/fault-injection/>Fault Injection</a></li><li><a href=/2.12/features/ha/>High Availability</a></li><li><a href=/2.12/features/access-logging/>HTTP Access Logging</a></li><li><a href=/2.12/features/multicluster/>Multi-cluster communication</a></li><li><a href=/2.12/features/nft/>Proxy Init Iptables Modes</a></li><li><a href=/2.12/features/service-profiles/>Service Profiles</a></li><li><a href=/2.12/features/traffic-split/>Traffic Split (canaries, blue/green deploys)</a></li></ul></li><li><a href=/2.12/tasks/>Tasks
</a><input class=toggle__input type=checkbox id=toggle-bd74b9215cf78dd6fa457943dd02a886>
<label class=toggle__label for=toggle-bd74b9215cf78dd6fa457943dd02a886><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.12/tasks/adding-your-service/>Adding your services to Linkerd</a></li><li><a href=/2.12/tasks/canary-release/>Automated Canary Releases</a></li><li><a href=/2.12/tasks/automatic-failover/>Automatic Multicluster Failover</a></li><li><a href=/2.12/tasks/automatically-rotating-control-plane-tls-credentials/>Automatically Rotating Control Plane TLS Credentials</a></li><li><a href=/2.12/tasks/automatically-rotating-webhook-tls-credentials/>Automatically Rotating Webhook TLS Credentials</a></li><li><a href=/2.12/tasks/external-prometheus/>Bringing your own Prometheus</a></li><li><a href=/2.12/tasks/configuring-per-route-policy/>Configuring Per-Route Policy</a></li><li><a href=/2.12/tasks/configuring-proxy-concurrency/>Configuring Proxy Concurrency</a></li><li><a href=/2.12/tasks/configuring-retries/>Configuring Retries</a></li><li><a href=/2.12/tasks/configuring-timeouts/>Configuring Timeouts</a></li><li><a href=/2.12/tasks/using-debug-endpoints/>Control Plane Debug Endpoints</a></li><li><a href=/2.12/tasks/customize-install/>Customizing Linkerd's Configuration with Kustomize</a></li><li><a href=/2.12/tasks/debugging-502s/>Debugging 502s</a></li><li><a href=/2.12/tasks/debugging-your-service/>Debugging gRPC applications with request tracing</a></li><li><a href=/2.12/tasks/books/>Debugging HTTP applications with per-route metrics</a></li><li><a href=/2.12/tasks/distributed-tracing/>Distributed tracing with Linkerd</a></li><li><a href=/2.12/tasks/exporting-metrics/>Exporting Metrics</a></li><li><a href=/2.12/tasks/exposing-dashboard/>Exposing the Dashboard</a></li><li><a href=/2.12/tasks/generate-certificates/>Generating your own mTLS root certificates</a></li><li><a href=/2.12/tasks/getting-per-route-metrics/>Getting Per-Route Metrics</a></li><li><a href=/2.12/tasks/linkerd-smi/>Getting started with Linkerd SMI extension</a></li><li><a href=/2.12/tasks/graceful-shutdown/>Graceful Pod Shutdown</a></li><li><a href=/2.12/tasks/grafana/>Grafana</a></li><li><a href=/2.12/tasks/using-ingress/>Ingress traffic</a></li><li><a href=/2.12/tasks/fault-injection/>Injecting Faults</a></li><li><a href=/2.12/tasks/install/>Installing Linkerd</a></li><li><a href=/2.12/tasks/install-helm/>Installing Linkerd with Helm</a></li><li><a href=/2.12/tasks/installing-multicluster/>Installing Multi-cluster Components</a></li><li><a href=/2.12/tasks/using-psp/>Linkerd and Pod Security Policies (PSP)</a></li><li><a href=/2.12/tasks/manually-rotating-control-plane-tls-credentials/>Manually Rotating Control Plane TLS Credentials</a></li><li><a href=/2.12/tasks/modifying-proxy-log-level/>Modifying the Proxy Log Level</a></li><li><a href=/2.12/tasks/multicluster/>Multi-cluster communication</a></li><li><a href=/2.12/tasks/multicluster-using-statefulsets/>Multi-cluster communication with StatefulSets</a></li><li><a href=/2.12/tasks/replacing_expired_certificates/>Replacing expired certificates</a></li><li><a href=/2.12/tasks/restricting-access/>Restricting Access To Services</a></li><li><a href=/2.12/tasks/rotating_webhooks_certificates/>Rotating webhooks certificates</a></li><li><a href=/2.12/tasks/securing-linkerd-tap/>Securing Linkerd Tap</a></li><li><a href=/2.12/tasks/setting-up-service-profiles/>Setting Up Service Profiles</a></li><li><a href=/2.12/tasks/troubleshooting/>Troubleshooting</a></li><li><a href=/2.12/tasks/uninstall/>Uninstalling Linkerd</a></li><li><a href=/2.12/tasks/uninstall-multicluster/>Uninstalling Multicluster</a></li><li><a href=/2.12/tasks/upgrade/>Upgrading Linkerd</a></li><li><a href=/2.12/tasks/using-custom-domain/>Using a Custom Cluster Domain</a></li><li><a href=/2.12/tasks/using-a-private-docker-repository/>Using A Private Docker Repository</a></li><li><a href=/2.12/tasks/extensions/>Using extensions</a></li><li><a href=/2.12/tasks/gitops/>Using GitOps with Linkerd with Argo CD</a></li><li><a href=/2.12/tasks/using-the-debug-container/>Using the Debug Sidecar</a></li><li><a href=/2.12/tasks/validating-your-traffic/>Validating your mTLS traffic</a></li></ul></li><li class=docs__nav--selected><a href=/2.12/reference/>Reference
</a><input class=toggle__input type=checkbox id=toggle-b8c7e85e215b478062e7a8ddd5fba4c9 checked>
<label class=toggle__label for=toggle-b8c7e85e215b478062e7a8ddd5fba4c9><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.12/reference/architecture/>Architecture</a></li><li><a href=/2.12/reference/authorization-policy/>Authorization Policy</a></li><li class=docs__nav--selected><a href=/2.12/reference/cli/>CLI
</a><input class=toggle__input type=checkbox id=toggle-54b83bb178e9cf628a47c1558b11db07 checked>
<label class=toggle__label for=toggle-54b83bb178e9cf628a47c1558b11db07><svg class="icon icon--secondary" viewBox="0 0 24 24"><path d="M8.59 16.58 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg></label><ul class=toggle__target><li><a href=/2.12/reference/cli/authz/>authz</a></li><li><a href=/2.12/reference/cli/check/>check</a></li><li><a href=/2.12/reference/cli/completion/>completion</a></li><li><a href=/2.12/reference/cli/diagnostics/>diagnostics</a></li><li><a href=/2.12/reference/cli/identity/>identity</a></li><li><a href=/2.12/reference/cli/inject/>inject</a></li><li><a href=/2.12/reference/cli/install/>install</a></li><li><a href=/2.12/reference/cli/install-cni/>install-cni</a></li><li><a href=/2.12/reference/cli/jaeger/>jaeger</a></li><li><a href=/2.12/reference/cli/multicluster/>multicluster</a></li><li><a href=/2.12/reference/cli/profile/>profile</a></li><li><a href=/2.12/reference/cli/uninject/>uninject</a></li><li><a href=/2.12/reference/cli/uninstall/>uninstall</a></li><li><a href=/2.12/reference/cli/upgrade/>upgrade</a></li><li><a href=/2.12/reference/cli/version/>version</a></li><li class=docs__nav--selected><a href=/2.12/reference/cli/viz/>viz</a></li></ul></li><li><a href=/2.12/reference/cluster-configuration/>Cluster Configuration</a></li><li><a href=/2.12/reference/extension-list/>Extensions List</a></li><li><a href=/2.12/reference/helm-chart-version-matrix/>Helm Chart Version Matrix</a></li><li><a href=/2.12/reference/iptables/>IPTables Reference</a></li><li><a href=/2.12/reference/proxy-configuration/>Proxy Configuration</a></li><li><a href=/2.12/reference/proxy-log-level/>Proxy Log Level</a></li><li><a href=/2.12/reference/proxy-metrics/>Proxy Metrics</a></li><li><a href=/2.12/reference/service-profiles/>Service Profiles</a></li></ul></li></ul><ul><li><a href=/what-is-a-service-mesh/>What is a service mesh?</a></li><li><a href=/faq/>Frequently Asked Questions</a></li><li><a href=/releases/>Releases and Versions</a></li><li><a href=/design-principles/>Design Principles</a></li><li><a href=/going-to-production/>Going to Production</a></li><li><a href=/service-mesh-glossary/>Service Mesh Glossary</a></li></ul></nav><div class=docs__community><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener><img src=/logos/github.svg alt=GitHub class=img></a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener><img src=/logos/slack.svg alt=Slack class=img></a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener><img src=/logos/forum.png alt="Linkerd Forum" class=img></a></li></ul></div></div></div><div class=docs__main><div class=docs__body><div class=docs__header><h1>viz</h1></div><div class="docs__content prose"><p>viz manages the linkerd-viz extension of Linkerd service mesh.</p><h2 id=subcommands class=anchor>Subcommands
<a href=#subcommands class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><h2 id=allow-scrapes class=anchor>allow-scrapes
<a href=#allow-scrapes class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><p>Output Kubernetes resources to authorize Prometheus scrapes in a namespace or cluster with config.linkerd.io/default-inbound-policy: deny.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Allow scrapes in the &#39;emojivoto&#39; namespace</span>
</span></span><span style=display:flex><span>linkerd viz allow-scrapes --namespace emojivoto | kubectl apply -f -</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td>The namespace in which to authorize Prometheus scrapes.</td></tr></tbody></table><h2 id=authz class=anchor>authz
<a href=#authz class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><p>Display stats for authorizations for a resource.</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format; one of: &ldquo;table&rdquo; or &ldquo;json&rdquo; or &ldquo;wide&rdquo;</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter on, supports &lsquo;=&rsquo;, &lsquo;==&rsquo;, and &lsquo;!=&rsquo;</td></tr><tr><td><code>--time-window</code><br><code>-t</code></td><td>Stat window (for example: &ldquo;15s&rdquo;, &ldquo;1m&rdquo;, &ldquo;10m&rdquo;, &ldquo;1h&rdquo;). Needs to be at least 15s.</td></tr></tbody></table><h3 id=check class=anchor>check
<a href=#check class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Check the Linkerd Viz extension for potential problems.</p><p>The check command will perform a series of checks to validate that the Linkerd Viz
extension is configured correctly. If the command encounters a failure it will
print additional information about the failure and exit with a non-zero exit
code.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Check that the viz extension is up and running</span>
</span></span><span style=display:flex><span>linkerd viz check</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace to use for &ndash;proxy checks (default: all namespaces)</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: basic, json</td></tr><tr><td><code>--proxy</code></td><td>Also run data-plane checks, to determine if the data plane is healthy</td></tr><tr><td><code>--wait</code></td><td>Maximum allowed time for all tests to pass</td></tr></tbody></table><h3 id=dashboard class=anchor>dashboard
<a href=#dashboard class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Open the Linkerd dashboard in a web browser</p><p>Check out the <a href=../../architecture/#dashboard>architecture</a> docs for a
more thorough explanation of what this command does.</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--address</code></td><td>The address at which to serve requests</td></tr><tr><td><code>--port</code><br><code>-p</code></td><td>The local port on which to serve requests (when set to 0, a random port will be used)</td></tr><tr><td><code>--show</code></td><td>Open a dashboard in a browser or show URLs in the CLI (one of: linkerd, grafana, url)</td></tr><tr><td><code>--wait</code></td><td>Wait for dashboard to become available if it&rsquo;s not available when the command is run</td></tr></tbody></table><p>(*) You&rsquo;ll need to tweak the dashboard&rsquo;s <code>enforced-host</code> parameter with this
value, as explained in <a href=../../../tasks/exposing-dashboard/#tweaking-host-requirement>the DNS-rebinding protection
docs</a></p><h3 id=edges class=anchor>edges
<a href=#edges class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Display connections between resources, and Linkerd proxy identities.</p><p>The RESOURCETYPE argument specifies the type of resource to display edges within.</p><p>Examples:</p><ul><li>cronjob</li><li>deploy</li><li>ds</li><li>job</li><li>po</li><li>rc</li><li>rs</li><li>sts</li></ul><p>Valid resource types include:</p><ul><li>cronjobs</li><li>daemonsets</li><li>deployments</li><li>jobs</li><li>pods</li><li>replicasets</li><li>replicationcontrollers</li><li>statefulsets</li></ul><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all edges between pods that either originate from or terminate in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz edges po -n test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all edges between pods that either originate from or terminate in the default namespace.</span>
</span></span><span style=display:flex><span>linkerd viz edges po
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all edges between pods in all namespaces.</span>
</span></span><span style=display:flex><span>linkerd viz edges po --all-namespaces</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--all-namespaces</code><br><code>-A</code></td><td>If present, returns edges across all namespaces, ignoring the &ldquo;&ndash;namespace&rdquo; flag</td></tr><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format; one of: &ldquo;table&rdquo; or &ldquo;json&rdquo; or &ldquo;wide&rdquo;</td></tr></tbody></table><h3 id=install class=anchor>install
<a href=#install class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Output Kubernetes resources to install linkerd-viz extension.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Default install.</span>
</span></span><span style=display:flex><span>linkerd viz install | kubectl apply -f -
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The installation can be configured by using the --set, --values, --set-string and --set-file flags.
</span></span><span style=display:flex><span>A full list of configurable values can be found at https://www.github.com/linkerd/linkerd2/tree/main/viz/charts/linkerd-viz/README.md
</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--ha</code></td><td>Install Viz Extension in High Availability mode.</td></tr><tr><td><code>--ignore-cluster</code></td><td>Ignore the current Kubernetes cluster when checking for existing cluster configuration (default false)</td></tr><tr><td><code>--set</code></td><td>set values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--set-file</code></td><td>set values from respective files specified via the command line (can specify multiple or separate values with commas: key1=path1,key2=path2)</td></tr><tr><td><code>--set-string</code></td><td>set STRING values on the command line (can specify multiple or separate values with commas: key1=val1,key2=val2)</td></tr><tr><td><code>--skip-checks</code></td><td>Skip checks for linkerd core control-plane existence</td></tr><tr><td><code>--values</code><br><code>-f</code></td><td>specify values in a YAML file or a URL (can specify multiple)</td></tr><tr><td><code>--wait</code></td><td>Wait for core control-plane components to be available</td></tr></tbody></table><h3 id=list class=anchor>list
<a href=#list class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Lists which pods can be tapped</p><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--all-namespaces</code><br><code>-A</code></td><td>If present, list pods across all namespaces</td></tr><tr><td><code>--namespace</code><br><code>-n</code></td><td>The namespace to list pods in</td></tr></tbody></table><h3 id=profile class=anchor>profile
<a href=#profile class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Output service profile config for Kubernetes based off tap data.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Generate a profile by watching live traffic.</span>
</span></span><span style=display:flex><span>linkerd viz profile -n emojivoto web-svc --tap deploy/web --tap-duration 10s --tap-route-limit <span style=color:#a5d6ff>5</span>
</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the service</td></tr><tr><td><code>--tap</code></td><td>Output a service profile based on tap data for the given target resource</td></tr><tr><td><code>--tap-duration</code></td><td>Duration over which tap data is collected (for example: &ldquo;10s&rdquo;, &ldquo;1m&rdquo;, &ldquo;10m&rdquo;)</td></tr><tr><td><code>--tap-route-limit</code></td><td>Max number of routes to add to the profile</td></tr></tbody></table><h3 id=routes class=anchor>routes
<a href=#routes class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>The <code>routes</code> command displays per-route service metrics. In order for
this information to be available, a service profile must be defined for the
service that is receiving the requests. For more information about how to
create a service profile, see <a href=../../../features/service-profiles/>service profiles</a>.
and the <a href=../../cli/profile/>profile</a> command reference.</p><h2 id=inbound-metrics class=anchor>Inbound Metrics
<a href=#inbound-metrics class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><p>By default, <code>routes</code> displays <em>inbound</em> metrics for a target. In other
words, it shows information about requests which are sent to the target and
responses which are returned by the target. For example, the command:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>linkerd viz routes deploy/webapp
</span></span></code></pre></div><p>Displays the request volume, success rate, and latency of requests to the
<code>webapp</code> deployment. These metrics are from the <code>webapp</code> deployment&rsquo;s
perspective, which means that, for example, these latencies do not include the
network latency between a client and the <code>webapp</code> deployment.</p><h2 id=outbound-metrics class=anchor>Outbound Metrics
<a href=#outbound-metrics class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><p>If you specify the <code>--to</code> flag then <code>linkerd viz routes</code> displays <em>outbound</em> metrics
from the target resource to the resource in the <code>--to</code> flag. In contrast to
the inbound metrics, these metrics are from the perspective of the sender. This
means that these latencies do include the network latency between the client
and the server. For example, the command:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>linkerd viz routes deploy/traffic --to deploy/webapp
</span></span></code></pre></div><p>Displays the request volume, success rate, and latency of requests from
<code>traffic</code> to <code>webapp</code> from the perspective of the <code>traffic</code> deployment.</p><h2 id=effective-and-actual-metrics class=anchor>Effective and Actual Metrics
<a href=#effective-and-actual-metrics class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h2><p>If you are looking at <em>outbound</em> metrics (by specifying the <code>--to</code> flag) you
can also supply the <code>-o wide</code> flag to differentiate between <em>effective</em> and
<em>actual</em> metrics.</p><p>Effective requests are requests which are sent by some client to the Linkerd
proxy. Actual requests are requests which the Linkerd proxy sends to some
server. If the Linkerd proxy is performing retries, one effective request can
translate into more than one actual request. If the Linkerd proxy is not
performing retries, effective requests and actual requests will always be equal.
When enabling retries, you should expect to see the actual request rate
increase and the effective success rate increase. See the
<a href=../../../features/retries-and-timeouts/>retries and timeouts section</a> for more
information.</p><p>Because retries are only performed on the <em>outbound</em> (client) side, the
<code>-o wide</code> flag can only be used when the <code>--to</code> flag is specified.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Routes for the webapp service in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz routes service/webapp -n test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Routes for calls from the traffic deployment to the webapp service in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz routes deploy/traffic -n test --to svc/webapp</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format; one of: &ldquo;table&rdquo;, &ldquo;wide&rdquo;, or &ldquo;json&rdquo;</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter on, supports &lsquo;=&rsquo;, &lsquo;==&rsquo;, and &lsquo;!=&rsquo;</td></tr><tr><td><code>--time-window</code><br><code>-t</code></td><td>Stat window (for example: &ldquo;10s&rdquo;, &ldquo;1m&rdquo;, &ldquo;10m&rdquo;, &ldquo;1h&rdquo;)</td></tr><tr><td><code>--to</code></td><td>If present, shows outbound stats to the specified resource</td></tr><tr><td><code>--to-namespace</code></td><td>Sets the namespace used to lookup the &ldquo;&ndash;to&rdquo; resource; by default the current &ldquo;&ndash;namespace&rdquo; is used</td></tr></tbody></table><h3 id=stat class=anchor>stat
<a href=#stat class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Display traffic stats about one or many resources.</p><p>The RESOURCES argument specifies the target resource(s) to aggregate stats over:
(TYPE [NAME] | TYPE/NAME)
or (TYPE [NAME1] [NAME2]&mldr;)
or (TYPE1/NAME1 TYPE2/NAME2&mldr;)</p><p>Examples:</p><ul><li>cronjob/my-cronjob</li><li>deploy</li><li>deploy/my-deploy</li><li>deploy/ po/</li><li>ds/my-daemonset</li><li>job/my-job</li><li>ns/my-ns</li><li>po/mypod1 rc/my-replication-controller</li><li>po mypod1 mypod2</li><li>rc/my-replication-controller</li><li>rs</li><li>rs/my-replicaset</li><li>sts/my-statefulset</li><li>ts/my-split</li><li>authority</li><li>au/my-authority</li><li>httproute/my-route</li><li>route/my-route</li><li>all</li></ul><p>Valid resource types include:</p><ul><li>cronjobs</li><li>daemonsets</li><li>deployments</li><li>namespaces</li><li>jobs</li><li>pods</li><li>replicasets</li><li>replicationcontrollers</li><li>statefulsets</li><li>authorities (not supported in &ndash;from)</li><li>authorizationpolicies (not supported in &ndash;from)</li><li>httproutes (not supported in &ndash;from)</li><li>services (not supported in &ndash;from)</li><li>servers (not supported in &ndash;from)</li><li>serverauthorizations (not supported in &ndash;from)</li><li>all (all resource types, not supported in &ndash;from or &ndash;to)</li></ul><p>This command will hide resources that have completed, such as pods that are in the Succeeded or Failed phases.
If no resource name is specified, displays stats about all resources of the specified RESOURCETYPE</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all deployments in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat deployments -n test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get the hello1 replication controller in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat replicationcontrollers hello1 -n test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all namespaces.</span>
</span></span><span style=display:flex><span>linkerd viz stat namespaces
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the web deployment.</span>
</span></span><span style=display:flex><span>linkerd viz stat deploy/web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the pod1 and pod2 pods</span>
</span></span><span style=display:flex><span>linkerd viz stat po pod1 pod2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the pod1 pod and the web deployment</span>
</span></span><span style=display:flex><span>linkerd viz stat po/pod1 deploy/web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all pods in all namespaces that call the hello1 deployment in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat pods --to deploy/hello1 --to-namespace test --all-namespaces
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all pods in all namespaces that call the hello1 service in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat pods --to svc/hello1 --to-namespace test --all-namespaces
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get the web service. With Services, metrics are generated from the outbound metrics</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># of clients, and thus will not include unmeshed client request metrics.</span>
</span></span><span style=display:flex><span>linkerd viz stat svc/web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get the web services and metrics for any traffic coming to the service from the hello1 deployment</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat svc/web --from deploy/hello1 --from-namespace test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get the web services and metrics for all the traffic that reaches the web-pod1 pod</span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># in the test namespace exclusively.</span>
</span></span><span style=display:flex><span>linkerd viz stat svc/web --to pod/web-pod1 --to-namespace test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all services in all namespaces that receive calls from hello1 deployment in the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat services --from deploy/hello1 --from-namespace test --all-namespaces
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all namespaces that receive traffic from the default namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat namespaces --from ns/default
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the test namespace.</span>
</span></span><span style=display:flex><span>linkerd viz stat ns/test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the emoji-grpc server</span>
</span></span><span style=display:flex><span>linkerd viz stat server/emoji-grpc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the web-public server authorization resource</span>
</span></span><span style=display:flex><span>linkerd viz stat serverauthorization/web-public
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the web-get and web-delete HTTP route resources</span>
</span></span><span style=display:flex><span>linkerd viz stat route/web-get route/web-delete
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># Get all inbound stats to the web-authz authorization policy resource</span>
</span></span><span style=display:flex><span>linkerd viz stat authorizationpolicy/web-authz
</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--all-namespaces</code><br><code>-A</code></td><td>If present, returns stats across all namespaces, ignoring the &ldquo;&ndash;namespace&rdquo; flag</td></tr><tr><td><code>--from</code></td><td>If present, restricts outbound stats from the specified resource name</td></tr><tr><td><code>--from-namespace</code></td><td>Sets the namespace used from lookup the &ldquo;&ndash;from&rdquo; resource; by default the current &ldquo;&ndash;namespace&rdquo; is used</td></tr><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format; one of: &ldquo;table&rdquo; or &ldquo;json&rdquo; or &ldquo;wide&rdquo;</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter on, supports &lsquo;=&rsquo;, &lsquo;==&rsquo;, and &lsquo;!=&rsquo;</td></tr><tr><td><code>--time-window</code><br><code>-t</code></td><td>Stat window (for example: &ldquo;15s&rdquo;, &ldquo;1m&rdquo;, &ldquo;10m&rdquo;, &ldquo;1h&rdquo;). Needs to be at least 15s.</td></tr><tr><td><code>--to</code></td><td>If present, restricts outbound stats to the specified resource name</td></tr><tr><td><code>--to-namespace</code></td><td>Sets the namespace used to lookup the &ldquo;&ndash;to&rdquo; resource; by default the current &ldquo;&ndash;namespace&rdquo; is used</td></tr><tr><td><code>--unmeshed</code></td><td>If present, include unmeshed resources in the output</td></tr></tbody></table><h3 id=tap class=anchor>tap
<a href=#tap class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Listen to a traffic stream.</p><p>The RESOURCE argument specifies the target resource(s) to tap:
(TYPE [NAME] | TYPE/NAME)</p><p>Examples:</p><ul><li>cronjob/my-cronjob</li><li>deploy</li><li>deploy/my-deploy</li><li>deploy my-deploy</li><li>ds/my-daemonset</li><li>job/my-job</li><li>ns/my-ns</li><li>rs</li><li>rs/my-replicaset</li><li>sts</li><li>sts/my-statefulset</li></ul><p>Valid resource types include:</p><ul><li>cronjobs</li><li>daemonsets</li><li>deployments</li><li>jobs</li><li>namespaces</li><li>pods</li><li>replicasets</li><li>replicationcontrollers</li><li>statefulsets</li><li>services (only supported as a &ndash;to resource)</li></ul><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># tap the web deployment in the default namespace</span>
</span></span><span style=display:flex><span>linkerd viz tap deploy/web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># tap the web-dlbvj pod in the default namespace</span>
</span></span><span style=display:flex><span>linkerd viz tap pod/web-dlbvj
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># tap the test namespace, filter by request to prod namespace</span>
</span></span><span style=display:flex><span>linkerd viz tap ns/test --to ns/prod</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--authority</code></td><td>Display requests with this :authority</td></tr><tr><td><code>--max-rps</code></td><td>Maximum requests per second to tap.</td></tr><tr><td><code>--method</code></td><td>Display requests with this HTTP method</td></tr><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--output</code><br><code>-o</code></td><td>Output format. One of: &ldquo;wide&rdquo;, &ldquo;json&rdquo;</td></tr><tr><td><code>--path</code></td><td>Display requests with paths that start with this prefix</td></tr><tr><td><code>--scheme</code></td><td>Display requests with this scheme</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter on, supports &lsquo;=&rsquo;, &lsquo;==&rsquo;, and &lsquo;!=&rsquo;</td></tr><tr><td><code>--to</code></td><td>Display requests to this resource</td></tr><tr><td><code>--to-namespace</code></td><td>Sets the namespace used to lookup the &ldquo;&ndash;to&rdquo; resource; by default the current &ldquo;&ndash;namespace&rdquo; is used</td></tr></tbody></table><h3 id=top class=anchor>top
<a href=#top class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Display sorted information about live traffic.</p><p>The RESOURCE argument specifies the target resource(s) to view traffic for:
(TYPE [NAME] | TYPE/NAME)</p><p>Examples:</p><ul><li>cronjob/my-cronjob</li><li>deploy</li><li>deploy/my-deploy</li><li>deploy my-deploy</li><li>ds/my-daemonset</li><li>job/my-job</li><li>ns/my-ns</li><li>rs</li><li>rs/my-replicaset</li><li>sts</li><li>sts/my-statefulset</li></ul><p>Valid resource types include:</p><ul><li>cronjobs</li><li>daemonsets</li><li>deployments</li><li>jobs</li><li>namespaces</li><li>pods</li><li>replicasets</li><li>replicationcontrollers</li><li>statefulsets</li><li>services (only supported as a &ndash;to resource)</li></ul><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8b949e;font-style:italic># display traffic for the web deployment in the default namespace</span>
</span></span><span style=display:flex><span>linkerd viz top deploy/web
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic># display traffic for the web-dlbvj pod in the default namespace</span>
</span></span><span style=display:flex><span>linkerd viz top pod/web-dlbvj</span></span></code></pre></div><h2>Flags</h2><table class=keyval><thead><tr><th>Flag</th><th>Usage</th></tr></thead><tbody><tr><td><code>--authority</code></td><td>Display requests with this :authority</td></tr><tr><td><code>--hide-sources</code></td><td>Hide the source column</td></tr><tr><td><code>--max-rps</code></td><td>Maximum requests per second to tap.</td></tr><tr><td><code>--method</code></td><td>Display requests with this HTTP method</td></tr><tr><td><code>--namespace</code><br><code>-n</code></td><td>Namespace of the specified resource</td></tr><tr><td><code>--path</code></td><td>Display requests with paths that start with this prefix</td></tr><tr><td><code>--routes</code></td><td>Display data per route instead of per path</td></tr><tr><td><code>--scheme</code></td><td>Display requests with this scheme</td></tr><tr><td><code>--selector</code><br><code>-l</code></td><td>Selector (label query) to filter on, supports &lsquo;=&rsquo;, &lsquo;==&rsquo;, and &lsquo;!=&rsquo;</td></tr><tr><td><code>--to</code></td><td>Display requests to this resource</td></tr><tr><td><code>--to-namespace</code></td><td>Sets the namespace used to lookup the &ldquo;&ndash;to&rdquo; resource; by default the current &ldquo;&ndash;namespace&rdquo; is used</td></tr></tbody></table><h3 id=uninstall class=anchor>uninstall
<a href=#uninstall class=anchor__link><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7A5 5 0 002 12a5 5 0 005 5h4V15.1H7c-1.71.0-3.1-1.39-3.1-3.1M8 13h8V11H8v2m9-6H13V8.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1H13V17h4a5 5 0 005-5A5 5 0 0017 7z"/></svg></a></h3><p>Output Kubernetes resources to uninstall the linkerd-viz extension.</p><p>This command provides all Kubernetes namespace-scoped and cluster-scoped resources (e.g services, deployments, RBACs, etc.) necessary to uninstall the Linkerd-viz extension.</p><h2>Examples</h2><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>linkerd viz uninstall | kubectl delete -f -</span></span></code></pre></div></div></div></div></div></div></main><footer class=main-footer><div class=main-footer__top><div class="main-footer__container container"><div class=main-footer__info><p><img src=/logos/linkerd.png alt=Linkerd></p><p>Linkerd was originally created by <a href=https://buoyant.io/ target=_blank rel=noopener>Buoyant</a></p><p>View <a href=https://github.com/linkerd/linkerd/wiki/Linkerd-code-of-conduct target=_blank rel=noopener>Code of Conduct</a></p></div><div class=main-footer__links><div class=main-footer__community><h4>Community</h4><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener>GitHub</a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener>Slack</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Linkerd Forum</a></li></ul></div><div class=main-footer__follow><h4>Follow</h4><ul><li><a href=https://www.linkedin.com/company/linkerd/ target=_blank rel=noopener>Linkedin</a></li><li><a href=https://www.youtube.com/buoyantio target=_blank rel=noopener>YouTube</a></li><li><a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a></li></ul></div></div></div></div><div class=main-footer__bottom><div class="main-footer__container container"><p><a href=https://github.com/linkerd/website/tree/main/linkerd.io/content target=_blank rel=noopener>Edit This Site</a></p><p>Copyright  2024 Linkerd Authors. All rights reserved.</p></div></div></footer></body></html>