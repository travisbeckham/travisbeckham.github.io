<!doctype html><html lang=en><head><meta charset=utf-8><title>Linkerd 2.10 and Extensions | Linkerd</title>
<link rel="shortcut icon" href=/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Linkerd is the smallest, simplest service mesh in the world. Since Linkerd 2.0,
we&rsquo;ve followed a philosophy of minimalism, composability, and building on top
of the existing ecosystem. Doubling down on this idea might seem a little
crazy, but in this blog post I&rsquo;ll describe a feature of the upcoming Linkerd
2.10 release that will make Linkerd even smaller and simpler: extensions.
In Linkerd 2.10, we&rsquo;ve stripped down Linkerd&rsquo;s default control plane install to
a bare-bones deployment, without the Prometheus, Grafana, dashboard, and other
non-critical components that previously shipped by default. Thanks to these
changes, a basic Linkerd control plane now weighs in at under 200mb at startup,
down from ~500mb in Linkerd 2.9."><meta property="og:url" content="https://travisbeckham.github.io/2021/03/01/linkerd-2.10-and-extensions/"><meta property="og:site_name" content="Linkerd"><meta property="og:title" content="Linkerd 2.10 and Extensions"><meta property="og:description" content="Linkerd is the smallest, simplest service mesh in the world. Since Linkerd 2.0, we’ve followed a philosophy of minimalism, composability, and building on top of the existing ecosystem. Doubling down on this idea might seem a little crazy, but in this blog post I’ll describe a feature of the upcoming Linkerd 2.10 release that will make Linkerd even smaller and simpler: extensions.
In Linkerd 2.10, we’ve stripped down Linkerd’s default control plane install to a bare-bones deployment, without the Prometheus, Grafana, dashboard, and other non-critical components that previously shipped by default. Thanks to these changes, a basic Linkerd control plane now weighs in at under 200mb at startup, down from ~500mb in Linkerd 2.9."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-03-01T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-01T00:00:00+00:00"><meta property="og:image" content="https://travisbeckham.github.io/2021/03/01/linkerd-2.10-and-extensions/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://travisbeckham.github.io/2021/03/01/linkerd-2.10-and-extensions/cover.jpg"><meta name=twitter:title content="Linkerd 2.10 and Extensions"><meta name=twitter:description content="Linkerd is the smallest, simplest service mesh in the world. Since Linkerd 2.0, we’ve followed a philosophy of minimalism, composability, and building on top of the existing ecosystem. Doubling down on this idea might seem a little crazy, but in this blog post I’ll describe a feature of the upcoming Linkerd 2.10 release that will make Linkerd even smaller and simpler: extensions.
In Linkerd 2.10, we’ve stripped down Linkerd’s default control plane install to a bare-bones deployment, without the Prometheus, Grafana, dashboard, and other non-critical components that previously shipped by default. Thanks to these changes, a basic Linkerd control plane now weighs in at under 200mb at startup, down from ~500mb in Linkerd 2.9."><meta name=twitter:site content="@Linkerd"><link rel=canonical href=https://travisbeckham.github.io/2021/03/01/linkerd-2.10-and-extensions/><link rel=stylesheet href=/css/main.css><script src=/js/main.js></script><script async defer src=https://buttons.github.io/buttons.js></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","author":"William Morgan","datePublished":"2021-03-01T00:00:00Z","dateModified":"2021-03-01T00:00:00Z","headline":"Linkerd 2.10 and Extensions","image":"https://travisbeckham.github.io/2021/03/01/linkerd-2.10-and-extensions/cover.jpg","publisher":{"@type":"Organization","name":"linkerd.io","logo":{"@type":"ImageObject","url":"https://travisbeckham.github.io/logos/linkerd.png","width":472,"height":100}}}</script></head><body><header class=main-header><div class=main-header__container><div class=main-header__logo><a href=/><img src=/logos/linkerd.png alt=Linkerd></a></div><input class=main-header__toggle-checkbox type=checkbox id=main-header-toggle>
<label class=main-header__toggle for=main-header-toggle><span class=main-header__toggle-icon><span class=main-header__toggle-icon--open><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3 6H21V8H3V6m0 5H21v2H3V11m0 5H21v2H3V16z"/></svg>
</span><span class=main-header__toggle-icon--close><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg></span></span></label><div class=main-header__nav><nav class=main-nav><ul class=main-nav__menu><li><a href=/docs>Docs</a></li><li><a href=#>Community<svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6L7.41 8.58z"/></svg></a><ul><li><a href=/community/get-involved/>Get Involved</a></li><li><a href=/community/adopters/>Adopters</a></li><li><a href=/community/ambassadors/>Linkerd Ambassadors</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Buoyant's Linkerd Forum</a></li></ul></li><li class=main-nav__menu--selected><a href=/blog/>Blog</a></li><li><a href=/faq/>FAQ</a></li><li><a href=/enterprise/>Enterprise</a></li></ul><div class=main-nav__search><form action=/search method=get><div class="search-input search-input--sm"><svg class="icon" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5.0 0116 9.5c0 1.61-.59 3.09-1.56 4.23L14.71 14H15.5l5 5L19 20.5l-5-5V14.71L13.73 14.44C12.59 15.41 11.11 16 9.5 16A6.5 6.5.0 013 9.5 6.5 6.5.0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
<input type=text name=q placeholder=Search></div></form></div><div class=main-nav__github><a class=github-button href=https://github.com/linkerd/linkerd2 data-icon=octicon-star data-size=large data-show-count=true aria-label="Star linkerd/linkerd2 on GitHub">Star</a></div><div class=main-nav__forum><a href=https://linkerd.buoyant.io class="button button--primary button--sm" target=_blank rel=noopener>Join Forum</a></div></nav></div></div></header><div class=main-announcement><strong>Oct 23, 2024</strong> New blog post: Towards a Sustainable Service Mesh.
<a href=/2024/10/23/making-linkerd-sustainable/ class=main-announcement__link>Read the post</a></div><main class=main-content><div class="blog blog--single"><div class="blog__container container"><div class=blog-post><div class=blog-post__header><h1>Linkerd 2.10 and Extensions</h1><div class=blog-post-meta><div class=blog-post-meta__media><img src=/authors/william-morgan_hu3903078524196475597.jpg alt="William Morgan" class="img img--48 img--round"></div><div class=blog-post-meta__body><div class=blog-post-meta__name>William Morgan</div><div class=blog-post-meta__date>Mar 1, 2021 • 4 min read</div></div></div></div><div class=blog-post__cover><img src=/2021/03/01/linkerd-2.10-and-extensions/cover.jpg alt=Cover class="img img--fill img--rounded"></div><div class="blog-post__content prose"><p>Linkerd is the smallest, simplest service mesh in the world. Since Linkerd 2.0,
we&rsquo;ve followed a philosophy of minimalism, composability, and building on top
of the existing ecosystem. Doubling down on this idea might seem a little
crazy, but in this blog post I&rsquo;ll describe a feature of the upcoming Linkerd
2.10 release that will make Linkerd <em>even</em> smaller and simpler: <em>extensions</em>.</p><p>In Linkerd 2.10, we&rsquo;ve stripped down Linkerd&rsquo;s default control plane install to
a bare-bones deployment, without the Prometheus, Grafana, dashboard, and other
non-critical components that previously shipped by default. Thanks to these
changes, a basic Linkerd control plane now weighs in at under 200mb at startup,
down from ~500mb in Linkerd 2.9.</p><p>Those components are instead now available as an opt-in <em>extension</em>, along with
several other components that are not strictly necessary for basic operation.
The initial set of Linkerd extensions includes:</p><ul><li><strong>viz</strong>, which will contain all the on-cluster metrics stack: Prometheus,
Grafana, the dashboard, etc.;</li><li><strong>multicluster</strong>, which will contain all the machinery for cross-cluster
communication; and</li><li><strong>jaeger</strong>, which will contain the distributed tracing collector and UI.</li></ul><p>Using extensions serves two purposes. First, it allows Linkerd adopters to
choose exactly which bits and pieces of Linkerd they want to install on their
cluster. Second, it allows the Linkerd community to build Linkerd-specific
operators and controllers without having to modify the core Linkerd CLI. More
on that below.</p><h2 id=how-does-it-work>How does it work?</h2><p>Installing an extension is just as easy as you&rsquo;d expect. For example, to
install the <strong>viz</strong> extension, you would run:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>linkerd install -f - | kubectl apply - <span style=color:#8b949e;font-style:italic># install the core control plane</span>
</span></span><span style=display:flex><span>linkerd viz install -f - | kubectl apply - <span style=color:#8b949e;font-style:italic># install the viz extension</span>
</span></span></code></pre></div><p>(For Helm users, each extension will have a corresponding Helm chart.)</p><p>We&rsquo;ve also made it as easy as possible for third-party extensions to hook into
the same system. For example, calls <code>linkerd foo</code> will automatically invoke and
pass arugments to a <code>linkerd-foo</code> binary, if found in the user&rsquo;s search path.
Furthermore, after installation, <code>linkerd check</code> will automatically run the
checks for all installed extensions and concatenate the output into one report.</p><p>Regardless of source, extensions should &ldquo;feel&rdquo; just like the rest of Linkerd.</p><h2 id=why-do-this>Why do this?</h2><p>As Linkerd adoption continues to grow dramatically, so does the set of use
cases it must handle. For some users, out-of-the-box observability is the key
reason they adopted Linkerd. For others, it&rsquo;s secure, cross-cluster
communication. For still others it&rsquo;s Linkerd&rsquo;s transparent, on-by-default mTLS.
This variety of use cases is great to see, but it also places stress on the
project—especially with our focus on simplicity.</p><p>Thus far, we&rsquo;ve tackled this in a somewhat ad-hoc manner, including a custom
install flow for the multi-cluster components, a specialized &ldquo;<a href=https://linkerd.io/2/tasks/external-prometheus/ target=_blank rel=noopener>Bring Your Own
Prometheus</a>&rdquo; feature, and so
on. Moving all this machinery to the extensions framework allows for
consistency: each of these feature extensions can now be treated exactly the
same way.</p><p>Finally, we&rsquo;re excited about the idea of allowing features in Linkerd that feel
just like the rest of Linkerd but don&rsquo;t require modifying the core project.</p><h2 id=whither-210>Whither 2.10?</h2><p>The Linkerd 2.10 release should be live later this week, and will include a ton
of other exciting features, most notably <em>opaque ports</em>—see the writeup
by Charles Pretzer on <a href=/2021/02/23/protocol-detection-and-opaque-ports-in-linkerd/>Protocol Detection and Opaque Ports in
Linkerd</a> for the
exciting details.</p><p>Want to give extensions a shot today? You can try them in the <a href=https://linkerd.io/2/edge/ target=_blank rel=noopener>latest edge
release</a>. Want to build an extension? We&rsquo;ll be
releasing proper documentation shortly after the 2.10 release, but in the
meantime you can <a href=https://github.com/linkerd/linkerd2/tree/main/jaeger target=_blank rel=noopener>crib from an existing
one</a>.</p><h2 id=linkerd-is-for-everyone>Linkerd is for everyone</h2><p>Linkerd is a community project and is hosted by the
<a href=https://cncf.io/ target=_blank rel=noopener>Cloud Native Computing Foundation</a>. Linkerd is
<a href=https://linkerd.io/2019/10/03/linkerds-commitment-to-open-governance/ target=_blank rel=noopener>committed to open governance</a>.
If you have feature requests, questions, or comments, we&rsquo;d love to have you join
our rapidly-growing community! Linkerd is hosted on
<a href=https://github.com/linkerd/ target=_blank rel=noopener>GitHub</a>, and we have a thriving community on
<a href=https://slack.linkerd.io/ target=_blank rel=noopener>Slack</a>, <a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a>, and
the <a href=https://linkerd.io/2/get-involved/ target=_blank rel=noopener>mailing lists</a>. Come and join the fun!</p><p>(Photo by
<a href="https://unsplash.com/@karishea?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target=_blank rel=noopener>Kari Shea</a> on
<a href="https://unsplash.com/s/photos/animal-listening?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target=_blank rel=noopener>Unsplash</a>).</p></div></div><div class=blog-post-related><h2>Suggested Blog Posts</h2><div class=blog-post-related__pages><div class="card card--horz card--center"><div class=card__media><img src=/2021/02/23/protocol-detection-and-opaque-ports-in-linkerd/cover_hu16395567689015111960.jpg alt="Cover hu16395567689015111960" class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2021/02/23/protocol-detection-and-opaque-ports-in-linkerd/>Protocol Detection and Opaque Ports in Linkerd</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Feb 23, 2021 • 6 min read</div></div></div></div></div><div class="card card--horz card--center"><div class=card__media><img src=/2021/02/19/february-2021-linkerd-hero-nomination/cover_hu15101440596096254968.jpg alt="Cover hu15101440596096254968" class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2021/02/19/february-2021-linkerd-hero-nomination/>February 2021 Linkerd Hero Nomination</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Feb 19, 2021 • 3 min read</div></div></div></div></div><div class="card card--horz card--center"><div class=card__media><img src=/2021/02/04/january-linkerd-community-meeting-recap/cover_hu1271088529299428013.jpg alt="Cover hu1271088529299428013" class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2021/02/04/january-linkerd-community-meeting-recap/>January Linkerd Community Meeting Recap</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Feb 4, 2021 • 2 min read</div></div></div></div></div><div class="card card--horz card--center"><div class=card__media><img src=/2021/01/28/announcing-the-linkerd-steering-committee/thumbnail_hu13079082629670731776.jpg alt="Thumbnail hu13079082629670731776" class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2021/01/28/announcing-the-linkerd-steering-committee/>Announcing the Linkerd Steering Committee</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Jan 28, 2021 • 3 min read</div></div></div></div></div></div></div></div></div></main><footer class=main-footer><div class=main-footer__top><div class="main-footer__container container"><div class=main-footer__info><p><img src=/logos/linkerd.png alt=Linkerd></p><p>Linkerd was originally created by <a href=https://buoyant.io/ target=_blank rel=noopener>Buoyant</a></p><p>View <a href=https://github.com/linkerd/linkerd/wiki/Linkerd-code-of-conduct target=_blank rel=noopener>Code of Conduct</a></p></div><div class=main-footer__links><div class=main-footer__community><h4>Community</h4><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener>GitHub</a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener>Slack</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Linkerd Forum</a></li></ul></div><div class=main-footer__follow><h4>Follow</h4><ul><li><a href=https://www.linkedin.com/company/linkerd/ target=_blank rel=noopener>Linkedin</a></li><li><a href=https://www.youtube.com/buoyantio target=_blank rel=noopener>YouTube</a></li><li><a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a></li></ul></div></div></div></div><div class=main-footer__bottom><div class="main-footer__container container"><p><a href=https://github.com/linkerd/website/tree/main/linkerd.io/content target=_blank rel=noopener>Edit This Site</a></p><p>Copyright © 2024 Linkerd Authors. All rights reserved.</p></div></div></footer></body></html>