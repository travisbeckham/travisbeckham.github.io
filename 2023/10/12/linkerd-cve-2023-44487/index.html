<!doctype html><html lang=en><head><meta charset=utf-8><title>How Linkerd became resilient to CVE-2023-44487, a HTTP/2 DDOS vulnerability,
six months prior to its disclosure | Linkerd</title>
<link rel="shortcut icon" href=/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Yesterday, CVE-2023-44487, a
DDOS vulnerability in many HTTP/2 implementations, was disclosed. This is a very
interesting attack involving the specifics of how HTTP/2 multiplexes concurrent
requests on the same TCP connection, and there are several great writeups on how
it works—see e.g. Cloudflare&rsquo;s
HTTP/2 Rapid Reset: deconstructing the record-breaking attack
and Google&rsquo;s
How it works: The novel HTTP/2 ‘Rapid Reset’ DDoS attack
for details of how this attack works and the consequences.
We&rsquo;re happy to report that due to Linkerd&rsquo;s internal security policies and the
security-awareness and rapid response of the Rust community, all recent versions
of Linkerd are resilient to this class of DDOS attack. In fact, Linkerd has been
resilient to these attacks since April of this year!"><meta property="og:url" content="https://travisbeckham.github.io/2023/10/12/linkerd-cve-2023-44487/"><meta property="og:site_name" content="Linkerd"><meta property="og:title" content="How Linkerd became resilient to CVE-2023-44487, a HTTP/2 DDOS vulnerability,
six months prior to its disclosure"><meta property="og:description" content="Yesterday, CVE-2023-44487, a DDOS vulnerability in many HTTP/2 implementations, was disclosed. This is a very interesting attack involving the specifics of how HTTP/2 multiplexes concurrent requests on the same TCP connection, and there are several great writeups on how it works—see e.g. Cloudflare’s HTTP/2 Rapid Reset: deconstructing the record-breaking attack and Google’s How it works: The novel HTTP/2 ‘Rapid Reset’ DDoS attack for details of how this attack works and the consequences.
We’re happy to report that due to Linkerd’s internal security policies and the security-awareness and rapid response of the Rust community, all recent versions of Linkerd are resilient to this class of DDOS attack. In fact, Linkerd has been resilient to these attacks since April of this year!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-10-12T00:00:00+00:00"><meta property="article:modified_time" content="2023-10-12T00:00:00+00:00"><meta property="og:image" content="https://travisbeckham.github.io/2023/10/12/linkerd-cve-2023-44487/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://travisbeckham.github.io/2023/10/12/linkerd-cve-2023-44487/cover.jpg"><meta name=twitter:title content="How Linkerd became resilient to CVE-2023-44487, a HTTP/2 DDOS vulnerability,
six months prior to its disclosure"><meta name=twitter:description content="Yesterday, CVE-2023-44487, a DDOS vulnerability in many HTTP/2 implementations, was disclosed. This is a very interesting attack involving the specifics of how HTTP/2 multiplexes concurrent requests on the same TCP connection, and there are several great writeups on how it works—see e.g. Cloudflare’s HTTP/2 Rapid Reset: deconstructing the record-breaking attack and Google’s How it works: The novel HTTP/2 ‘Rapid Reset’ DDoS attack for details of how this attack works and the consequences.
We’re happy to report that due to Linkerd’s internal security policies and the security-awareness and rapid response of the Rust community, all recent versions of Linkerd are resilient to this class of DDOS attack. In fact, Linkerd has been resilient to these attacks since April of this year!"><meta name=twitter:site content="@Linkerd"><link rel=canonical href=https://travisbeckham.github.io/2023/10/12/linkerd-cve-2023-44487/><link rel=stylesheet href=/css/main.css><script src=/js/main.js></script><script async defer src=https://buttons.github.io/buttons.js></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","author":"William Morgan","datePublished":"2023-10-12T00:00:00Z","dateModified":"2023-10-12T00:00:00Z","headline":"How Linkerd became resilient to CVE-2023-44487, a HTTP/2 DDOS vulnerability,\nsix months prior to its disclosure","image":"https://travisbeckham.github.io/2023/10/12/linkerd-cve-2023-44487/cover.jpg","publisher":{"@type":"Organization","name":"linkerd.io","logo":{"@type":"ImageObject","url":"https://travisbeckham.github.io/logos/linkerd.png","width":472,"height":100}}}</script></head><body><header class=main-header><div class=main-header__container><div class=main-header__logo><a href=/><img src=/logos/linkerd.png alt=Linkerd></a></div><input class=main-header__toggle-checkbox type=checkbox id=main-header-toggle>
<label class=main-header__toggle for=main-header-toggle><span class=main-header__toggle-icon><span class=main-header__toggle-icon--open><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M3 6H21V8H3V6m0 5H21v2H3V11m0 5H21v2H3V16z"/></svg>
</span><span class=main-header__toggle-icon--close><svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg></span></span></label><div class=main-header__nav><nav class=main-nav><ul class=main-nav__menu><li><a href=/docs>Docs</a></li><li><a href=#>Community<svg class="icon icon--primary" viewBox="0 0 24 24"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6L7.41 8.58z"/></svg></a><ul><li><a href=/community/get-involved/>Get Involved</a></li><li><a href=/community/adopters/>Adopters</a></li><li><a href=/community/ambassadors/>Linkerd Ambassadors</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Buoyant's Linkerd Forum</a></li></ul></li><li class=main-nav__menu--selected><a href=/blog/>Blog</a></li><li><a href=/faq/>FAQ</a></li><li><a href=/enterprise/>Enterprise</a></li></ul><div class=main-nav__search><form action=/search method=get><div class="search-input search-input--sm"><svg class="icon" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5.0 0116 9.5c0 1.61-.59 3.09-1.56 4.23L14.71 14H15.5l5 5L19 20.5l-5-5V14.71L13.73 14.44C12.59 15.41 11.11 16 9.5 16A6.5 6.5.0 013 9.5 6.5 6.5.0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
<input type=text name=q placeholder=Search></div></form></div><div class=main-nav__github><a class=github-button href=https://github.com/linkerd/linkerd2 data-icon=octicon-star data-size=large data-show-count=true aria-label="Star linkerd/linkerd2 on GitHub">Star</a></div><div class=main-nav__forum><a href=https://linkerd.buoyant.io class="button button--primary button--sm" target=_blank rel=noopener>Join Forum</a></div></nav></div></div></header><div class=main-announcement>Service Mesh 101: Get Service Mesh-Certified
<span class=main-announcement__link><a href=https://buoyant.io/courses/service-mesh-101 target=_blank rel=noopener>Enroll now</a></span></div><main class=main-content><div class="blog blog--single"><div class="blog__container container"><div class=blog-post><div class=blog-post__header><h1>How Linkerd became resilient to CVE-2023-44487, a HTTP/2 DDOS vulnerability,
six months prior to its disclosure</h1><div class=blog-post-meta><div class=blog-post-meta__media><img src=/authors/william-morgan.jpg alt="William Morgan" class="img img--48 img--round"></div><div class=blog-post-meta__body><div class=blog-post-meta__name>William Morgan</div><div class=blog-post-meta__date>Oct 12, 2023 • 4 min read</div></div></div></div><div class=blog-post__cover><img src=/2023/10/12/linkerd-cve-2023-44487/cover.jpg alt=Cover class="img img--fill img--rounded"></div><div class="blog-post__content prose"><p>Yesterday, <a href=https://nvd.nist.gov/vuln/detail/CVE-2023-44487 target=_blank rel=noopener>CVE-2023-44487</a>, a
DDOS vulnerability in many HTTP/2 implementations, was disclosed. This is a very
interesting attack involving the specifics of how HTTP/2 multiplexes concurrent
requests on the same TCP connection, and there are several great writeups on how
it works—see e.g. Cloudflare&rsquo;s
<a href=https://blog.cloudflare.com/technical-breakdown-http2-rapid-reset-ddos-attack/ target=_blank rel=noopener>HTTP/2 Rapid Reset: deconstructing the record-breaking attack</a>
and Google&rsquo;s
<a href=https://cloud.google.com/blog/products/identity-security/how-it-works-the-novel-http2-rapid-reset-ddos-attack target=_blank rel=noopener>How it works: The novel HTTP/2 ‘Rapid Reset’ DDoS attack</a>
for details of how this attack works and the consequences.</p><p>We&rsquo;re happy to report that due to Linkerd&rsquo;s internal security policies and the
security-awareness and rapid response of the Rust community, all recent versions
of Linkerd are resilient to this class of DDOS attack. In fact, Linkerd has been
resilient to these attacks since April of this year!</p><p>Specifically, versions of Linkerd that are resilient to CVE-2023-44487 include:</p><ul><li>All versions of Linkerd 2.14.x</li><li>Linkerd 2.13.1 and all later minor versions of Linkerd 2.13</li><li>Linkerd 2.12.5 and all later minor versions of Linkerd 2.12</li></ul><p>Linkerd solved this vulnerability 6 months ago thanks in part to our dependency
handling procedures, but mostly thanks to the the security-mindedness of the
Rust community.</p><p>Let&rsquo;s see just how this feat happened.</p><h2 id=linkerd-is-a-security-first-project>Linkerd is a security-first project</h2><p>It&rsquo;s no understatement to say that Linkerd treats security as a critical
requirement. Organizations around the world rely on Linkerd for everything from
protecting sensitive customer medical and financial data, to scheduling COVID
tests, to building 911 call centers. For some people, Linkerd is quite literally
a life-or-death project.</p><p>Part of that approach is the choice of technologies like Rust, of course, which
allow us to avoid an entire class of buffer overflow exploits and other
vulnerabilities that are
<a href=https://www.zdnet.com/article/chrome-70-of-all-security-bugs-are-memory-safety-issues/ target=_blank rel=noopener>endemic to languages like C and C++</a>.</p><p>But another, just as important part is simply how seriously the project takes
potential security vulnerabilities. Tracing the path to resolution for
CVE-2023-44487 is a great example of that. Here&rsquo;s how it happened:</p><p>This issue was first tracked as a vulnerability in the Rust community as
<a href=https://rustsec.org/advisories/RUSTSEC-2023-0034.html target=_blank rel=noopener>RUSTSEC-2023-0034</a> on
April 14, 2023. At that point it had actually
<a href=https://seanmonstar.com/post/730794151136935936/hyper-http2-rapid-reset-unaffected target=_blank rel=noopener>already been fixed in <code>h2</code></a>,
the underlying library that Linkerd uses to handle HTTP/2 requests, as a change
that had gone out
<a href=https://github.com/hyperium/h2/pull/668 target=_blank rel=noopener>on April 12th, two days earlier</a>.</p><p>The fix was published in
<a href=https://rustsec.org/advisories/RUSTSEC-2023-0034.html target=_blank rel=noopener><code>h2</code> v0.3.17</a>. Linkerd
automatically flagged that dependency
<a href=https://github.com/linkerd/linkerd2-proxy/commit/67306bc7ba19286352762362e4e1876ce5924442 target=_blank rel=noopener>on April 13th</a>
through <a href=https://github.com/dependabot target=_blank rel=noopener>GitHub&rsquo;s Dependabot</a>, the automated
dependency tool that Linkerd uses to ensure it stays up-to-date with critical
dependencies. The Linkerd team published the update as
<a href=https://github.com/linkerd/linkerd2-proxy/releases/tag/release%2Fv2.198.1 target=_blank rel=noopener>proxy release v2.198.1</a>.</p><p>On April 13th, this new proxy version
<a href=https://github.com/linkerd/linkerd2/commit/19a404fd196e251e969ac6c4a552a3c7af698dc5 target=_blank rel=noopener>was pulled into the main Linkerd repo</a>.
On April 14th, we pushed it to
<a href=https://github.com/linkerd/linkerd2/releases/tag/stable-2.13.1 target=_blank rel=noopener>Linkerd 2.13.1</a>—two
days after the underlying fix in <code>h2</code>, and the same day it was recognized as an
vulnerability in the Rust ecosystem. The fix also went out on
<a href=https://github.com/linkerd/linkerd2/releases/tag/edge-23.4.2 target=_blank rel=noopener>edge-23.4.2</a> on
April 21st, and from there it was in all future and stable releases.</p><p>In short: <strong>two days after the fix was made in the underlying Rust HTTP/2
library, it was already in the hands of Linkerd users as a stable release, and
all Linkerd releases since April have been protected against this
vulnerability.</strong> While this vulnerability is making the news this week, Linkerd
adopters have been protected for almost 6 months.</p><h2 id=h2-hyper-and-more>h2, hyper, and more</h2><p>But what is <code>h2</code> anyways? The <a href=https://github.com/hyperium/h2 target=_blank rel=noopener>h2</a> library and
its companion <a href=https://hyper.rs/ target=_blank rel=noopener>hyper</a> are two of the foundational libraries
that Linkerd uses to handle HTTP/2 requests in the proxy. HTTP/2 is used
extensively by Linkerd: not only does Linkerd proxy application-initiated HTTP/2
and gRPC (which uses HTTP/2) requests, Linkerd also transparently upgrades all
HTTP/1 communication in between two meshed pods to HTTP/2! This is part of
Linkerd&rsquo;s magic: by using <code>h2</code>, we can can dramatically reduce TCP connection
usage and improve performance and resiliency for inter-service HTTP traffic
without the application needing to do anything.</p><p>Like much of the Rust async networking stack, these libraries represent the
pinnacle of modern network programming. The Linkerd team has been heavily
involved in <code>h2</code> for years. <a href=https://buoyant.io target=_blank rel=noopener>Buoyant</a>, the primary sponsor
of Linkerd, also sponsored significant portions of h2 development, and Linkerd
maintainers occupy the third and fourth spots on the
<a href=https://github.com/hyperium/h2/graphs/contributors target=_blank rel=noopener><code>h2</code> contributor leaderboard</a>.</p><p>But ultimately it is to the credit of <code>h2</code> maintainer Sean McArthur that
<a href=https://seanmonstar.com/post/730794151136935936/hyper-http2-rapid-reset-unaffected target=_blank rel=noopener>CVE-2023-44487 was addressed six months ago</a>,
allowing Linkerd to maintain its commitment to security and simplicity for its
users everywhere around the globe. A heartfelt thanks to you, Sean.</p><h2 id=linkerd-is-for-everyone>Linkerd is for everyone</h2><p>Linkerd is a graduated project of the
<a href=https://cncf.io/ target=_blank rel=noopener>Cloud Native Computing Foundation</a>. Linkerd is
<a href=/2019/10/03/linkerds-commitment-to-open-governance/>committed to open governance.</a>
If you have feature requests, questions, or comments, we&rsquo;d love to have you join
our rapidly-growing community! Linkerd is hosted on
<a href=https://github.com/linkerd/ target=_blank rel=noopener>GitHub</a>, and we have a thriving community on
<a href=https://slack.linkerd.io/ target=_blank rel=noopener>Slack</a>, <a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a>, and
the <a href=/community/get-involved/>mailing lists</a>. Come and join the fun!</p><p>(Photo by
<a href="https://unsplash.com/@loic?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target=_blank rel=noopener>Djim Loic</a>
on
<a href="https://unsplash.com/photos/ft0-Xu4nTvA?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash" target=_blank rel=noopener>Unsplash</a>.)</p></div></div><div class=blog-post-related><h2>Suggested Blog Posts</h2><div class=blog-post-related__pages><div class="card card--horz card--center"><div class=card__media><img src=/2024/10/15/linkerd-edge-release-roundup/thumbnail.png alt=Thumbnail class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2024/10/15/linkerd-edge-release-roundup/>Linkerd Edge Release Roundup: October 2024</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Oct 15, 2024 • 4 min read</div></div></div></div></div><div class="card card--horz card--center"><div class=card__media><img src=/2024/09/06/linkerd-edge-release-roundup/thumbnail.png alt=Thumbnail class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2024/09/06/linkerd-edge-release-roundup/>Linkerd Edge Release Roundup: September 2024</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Sep 6, 2024 • 3 min read</div></div></div></div></div><div class="card card--horz card--center"><div class=card__media><img src=/2024/08/13/announcing-linkerd-2.16/cover.jpg alt=Cover class="img img--128 img--rounded"></div><div class=card__body><div class=card__header><h4><a href=/2024/08/13/announcing-linkerd-2.16/>Announcing Linkerd 2.16! Metrics, retries, and timeouts for HTTP and gRPC
routes; IPv6 support; policy audit mode; and lots more</a></h4><div class=blog-post-meta><div class=blog-post-meta__date>Aug 13, 2024 • 6 min read</div></div></div></div></div></div></div></div></div></main><footer class=main-footer><div class=main-footer__top><div class="main-footer__container container"><div class=main-footer__info><p><img src=/logos/linkerd.png alt=Linkerd></p><p>Linkerd was originally created by <a href=https://buoyant.io/ target=_blank rel=noopener>Buoyant</a></p><p>View <a href=https://github.com/linkerd/linkerd/wiki/Linkerd-code-of-conduct target=_blank rel=noopener>Code of Conduct</a></p></div><div class=main-footer__links><div class=main-footer__community><h4>Community</h4><ul><li><a href=https://github.com/linkerd/linkerd2 target=_blank rel=noopener>GitHub</a></li><li><a href=https://slack.linkerd.io target=_blank rel=noopener>Slack</a></li><li><a href=https://linkerd.buoyant.io target=_blank rel=noopener>Linkerd Forum</a></li></ul></div><div class=main-footer__follow><h4>Follow</h4><ul><li><a href=https://www.linkedin.com/company/linkerd/ target=_blank rel=noopener>Linkedin</a></li><li><a href=https://www.youtube.com/buoyantio target=_blank rel=noopener>YouTube</a></li><li><a href=https://twitter.com/linkerd target=_blank rel=noopener>Twitter</a></li></ul></div></div></div></div><div class=main-footer__bottom><div class="main-footer__container container"><p><a href=https://github.com/linkerd/website/tree/main/linkerd.io/content target=_blank rel=noopener>Edit This Site</a></p><p>Copyright © 2024 Linkerd Authors. All rights reserved.</p></div></div></footer></body></html>